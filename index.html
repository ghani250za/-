<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Planning Licence 3 â€” Viewer</title>

  <!-- Tailwind CDN (Ù„Ø§ Ø­Ø§Ø¬Ù€Ø© Ù„Ø¨Ù†Ø§Ø¡) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Ø®Ø· -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root { --gap: 10px; }
    body { font-family: 'Inter', system-ui, Arial, sans-serif; direction: rtl; }
    /* Ø¬Ø¯ÙˆÙ„ Ù…Ø±Ù† */
    .grid-table { display: grid; gap: 8px; }
    .cell { min-height: 84px; display:flex; align-items:center; justify-content:center; }
    .sticky-left { position: sticky; left: 0; z-index: 20; }
    /* ØµØºÙŠØ±Ø§Øª Ù„Ø¬Ù…Ø§Ù„ÙŠØ© */
    .badge { font-size: 11px; padding: 3px 8px; border-radius: 999px; }
  </style>

  <!-- Ù…Ù‡Ù…: Ø¹Ø¯Ù‘Ù„ Ù‡Ø°Ø§ Ø§Ù„ base Ù„Ùˆ ØºÙŠÙ‘Ø±Øª Ø§Ø³Ù… Ø§Ù„Ø±ÙŠØ¨Ùˆ -->
  <base href="/Planning-Licence-3-me-ann-e-/">
</head>
<body class="bg-slate-50 text-slate-800 p-6">

  <main class="max-w-6xl mx-auto">
    <header class="text-center mb-6">
      <h1 class="text-3xl font-bold">ğŸ“… Planning Licence 3 â€” Semestre 1 (2025-2026)</h1>
      <p class="text-sm text-slate-500 mt-1">Ø§Ø®ØªØ± Ù…Ø¬Ù…ÙˆØ¹ØªÙƒ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„</p>
    </header>

    <section id="controls" class="mb-6 flex justify-center gap-4"></section>

    <section id="table-wrap" class="bg-white rounded-2xl p-4 shadow">
      <!-- Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø³ÙŠÙÙˆÙ„Ù‘Ø¯ Ù‡Ù†Ø§ -->
      <div id="schedule-root"></div>
    </section>

    <footer class="text-center mt-6 text-sm text-slate-400">
      ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ â€” ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ù…Ù„Ù index.html
    </footer>
  </main>

  <script>
    /**********************
     * Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„ (Ù…Ù† Ù…Ø´Ø±ÙˆØ¹Ùƒ)
     **********************/
    const SCHEDULES = {
      G1: [
        ["Dimanche", "09:30â€“11:00", "CIV â€“ Pr Mesbahi (S41)"],
        ["Dimanche", "11:00â€“12:30", "MRS â€“ Dre Telhig (S41)"],
        ["Dimanche", "12:30â€“14:00", "CIV â€“ Pr Mesbahi (Cours AMPHI A)"],
        ["Lundi", "08:00â€“09:30", "Didactique â€“ Dr Ghouli (Cours AMPHI A)"],
        ["Lundi", "09:30â€“11:00", "LittÃ©rature â€“ Dre Chihani (Cours AMPHI A)"],
        ["Lundi", "11:00â€“12:30", "Didactique â€“ Dr Ghouli (S41)"],
        ["Lundi", "12:30â€“14:00", "MRS â€“ Dre Telhig (S41)"],
        ["Mardi", "09:30â€“11:00", "CEO â€“ Dre Badi K (S41)"],
        ["Mardi", "11:00â€“12:30", "LittÃ©rature â€“ Dre Chihani (S41)"],
        ["Mardi", "12:30â€“14:00", "Entrepreneuriat (S41)"],
        ["Mercredi", "08:00â€“09:30", "Linguistique â€“ Mme Kobbi (S41)"],
        ["Mercredi", "09:30â€“11:00", "Langue de spÃ© â€“ Dr Chemmar (S41)"],
        ["Mercredi", "11:00â€“12:30", "Atelier â€“ Mme Kobbi (S41)"],
        ["Mercredi", "12:30â€“14:00", "Traduction â€“ M. Ferhat (Cours AMPHI A)"],
        ["Jeudi", "08:00â€“09:30", "Atelier â€“ Mme Kobbi (S41)"],
        ["Jeudi", "09:30â€“11:00", "Traduction â€“ M. Ferhat (S41)"],
        ["Jeudi", "11:00â€“12:30", "Linguistique â€“ Mme Kobbi (Cours AMPHI A)"],
        ["Jeudi", "12:30â€“14:00", "Entrepreneuriat (cours Ã  distance â€“ Dr. Miloudi)"],
      ],
      G2: [
        ["Dimanche", "09:30â€“11:00", "Didactique â€“ Dr Ghouli (S42)"],
        ["Dimanche", "11:00â€“12:30", "MRS â€“ Dre Meftah (S42)"],
        ["Dimanche", "12:30â€“14:00", "CIV â€“ Pr Mesbahi (Cours AMPHI A)"],
        ["Lundi", "08:00â€“09:30", "Didactique â€“ Dr Ghouli (Cours AMPHI A)"],
        ["Lundi", "09:30â€“11:00", "LittÃ©rature â€“ Dre Chihani (Cours AMPHI A)"],
        ["Lundi", "11:00â€“12:30", "CIV â€“ Pr Mesbahi (S42)"],
        ["Lundi", "12:30â€“14:00", "MRS â€“ Dre Meftah (S42)"],
        ["Mardi", "08:00â€“09:30", "LittÃ©rature â€“ Dre Chihani (S42)"],
        ["Mardi", "09:30â€“11:00", "Atelier â€“ Dre Khelef H (S42)"],
        ["Mardi", "11:00â€“12:30", "CEO â€“ Dre Badi K (S42)"],
        ["Mercredi", "08:00â€“09:30", "Atelier de LittÃ©rature â€“ Dre Khelef H (S42)"],
        ["Mercredi", "09:30â€“11:00", "Traduction â€“ M. Ferhat (S42)"],
        ["Mercredi", "11:00â€“12:30", "Entrepreneuriat (S42)"],
        ["Mercredi", "12:30â€“14:00", "Traduction â€“ M. Ferhat (Cours AMPHI A)"],
        ["Jeudi", "08:00â€“09:30", "Langue de spÃ© â€“ Dr Chemmar (S42)"],
        ["Jeudi", "09:30â€“11:00", "Linguistique â€“ Mme Kobbi (S42)"],
        ["Jeudi", "11:00â€“12:30", "Linguistique â€“ Mme Kobbi (Cours AMPHI A)"],
        ["Jeudi", "12:30â€“14:00", "Entrepreneuriat (cours Ã  distance â€“ Dr. Miloudi)"],
      ],
      G3: [
        ["Dimanche", "08:00â€“09:30", "MRS â€“ Pr Mezghouni (S43)"],
        ["Dimanche", "09:30â€“11:00", "MRS â€“ Pr Mezghouni (S43)"],
        ["Dimanche", "11:00â€“12:30", "Didactique â€“ Dr Ghouli (S43)"],
        ["Dimanche", "12:30â€“14:00", "CIV â€“ Pr Mesbahi (Cours AMPHI A)"],
        ["Lundi", "08:00â€“09:30", "Didactique â€“ Dr Ghouli (Cours AMPHI A)"],
        ["Lundi", "09:30â€“11:00", "LittÃ©rature â€“ Dre Chihani (Cours AMPHI A)"],
        ["Lundi", "12:30â€“14:00", "LittÃ©rature â€“ Dre Chihani (S43)"],
        ["Lundi", "14:00â€“15:30", "CIV â€“ Pr Mesbahi (S43)"],
        ["Mardi", "09:30â€“11:00", "Atelier â€“ Dre Chihani (S43)"],
        ["Mardi", "12:30â€“14:00", "CEO â€“ Dre Badi K (S43)"],
        ["Mercredi", "08:00â€“09:30", "Linguistique â€“ Mme Kobbi (S43)"],
        ["Mercredi", "09:30â€“11:00", "Langue de spÃ© â€“ Dr Chemmar (S43)"],
        ["Mercredi", "12:30â€“14:00", "Traduction â€“ M. Ferhat (Cours AMPHI A)"],
        ["Jeudi", "08:00â€“09:30", "Traduction â€“ M. Ferhat (S43)"],
        ["Jeudi", "11:00â€“12:30", "Linguistique â€“ Mme Kobbi (Cours AMPHI A)"],
        ["Jeudi", "12:30â€“14:00", "Entrepreneuriat (cours Ã  distance â€“ Dr. Miloudi)"],
      ],
    };

    const DAY_COLORS = {
      Dimanche: { background: 'bg-amber-100', text: 'text-amber-800' },
      Lundi:    { background: 'bg-orange-100', text: 'text-orange-800' },
      Mardi:    { background: 'bg-sky-100', text: 'text-sky-800' },
      Mercredi: { background: 'bg-emerald-100', text: 'text-emerald-800' },
      Jeudi:    { background: 'bg-slate-200', text: 'text-slate-700' },
    };

    const DAYS = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi'];
    const TIME_SLOTS = [
      '08:00â€“09:30',
      '09:30â€“11:00',
      '11:00â€“12:30',
      '12:30â€“14:00',
      '14:00â€“15:30',
      '15:00â€“17:00'
    ];

    /**********************
     * ÙˆØ¸ÙŠÙØ© Ù„ØªÙˆÙ„ÙŠØ¯ Ø¬Ø¯ÙˆÙ„ Ø³Ø±ÙŠØ¹
     **********************/
    function renderGroupButtons(rootEl) {
      const groups = Object.keys(SCHEDULES);
      groups.forEach(g => {
        const btn = document.createElement('button');
        btn.textContent = `Groupe ${g}`;
        btn.className = 'px-5 py-3 rounded-xl font-semibold shadow bg-indigo-600 text-white hover:bg-indigo-700 transition';
        btn.style.minWidth = '130px';
        btn.addEventListener('click', () => renderSchedule(g));
        rootEl.appendChild(btn);
      });
    }

    function buildScheduleMap(schedule) {
      const map = new Map();
      schedule.forEach(([day, time, course]) => {
        map.set(`${day}||${time}`, course);
      });
      return map;
    }

    function CourseCell(course) {
      const wrapper = document.createElement('div');
      wrapper.className = 'bg-white p-2 rounded-lg shadow-sm h-full flex flex-col justify-center text-center ring-1 ring-slate-200';

      const isAmphi = course.toLowerCase().includes('amphi');
      const isOnline = course.toLowerCase().includes('distance') || course.toLowerCase().includes('en ligne');

      const subjectP = document.createElement('p');
      subjectP.className = 'font-bold text-sm text-slate-800';
      const parts = course.split('â€“');
      subjectP.textContent = parts[0].trim();
      wrapper.appendChild(subjectP);

      if (parts.length > 1) {
        const detailP = document.createElement('p');
        detailP.className = 'text-xs text-slate-500 mt-1';
        detailP.textContent = parts.slice(1).join('â€“').trim();
        wrapper.appendChild(detailP);
      }

      if (isAmphi) wrapper.style.borderLeft = '4px solid #6366f1'; // indigo
      if (isOnline) {
        const badge = document.createElement('span');
        badge.className = 'badge bg-blue-100 text-blue-800 mt-2 inline-block';
        badge.textContent = 'Ã€ distance';
        wrapper.appendChild(badge);
      }

      return wrapper;
    }

    function renderSchedule(group) {
      const root = document.getElementById('schedule-root');
      root.innerHTML = ''; // ØªÙØ±ÙŠØº

      const titleRow = document.createElement('div');
      titleRow.className = 'flex items-center justify-between mb-4';
      const backBtn = document.createElement('button');
      backBtn.className = 'flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800 font-semibold';
      backBtn.textContent = 'â—€ Retour';
      backBtn.addEventListener('click', () => {
        // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
        document.getElementById('controls').style.display = '';
        root.innerHTML = '';
      });
      titleRow.appendChild(backBtn);

      const titleH = document.createElement('h2');
      titleH.className = 'text-xl font-bold';
      titleH.textContent = `Groupe ${group}`;
      titleRow.appendChild(titleH);

      root.appendChild(titleRow);

      // Ø®Ø±ÙŠØ·Ø© schedule
      const schedule = SCHEDULES[group];
      const scheduleMap = buildScheduleMap(schedule);

      // wrapper Ø£ÙÙ‚ÙŠØ§Ù‹ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙ…Ø±ÙŠØ±
      const wrap = document.createElement('div');
      wrap.className = 'overflow-x-auto';

      // grid: Ø¹Ù…ÙˆØ¯ Ø£ÙŠÙ…Ù† = Ø£ÙŠØ§Ù…ØŒ Ø£Ø¹Ù…Ø¯Ø© Ø£Ø®Ø±Ù‰ = Ø§Ù„Ø£ÙˆÙ‚Ø§Øª
      const grid = document.createElement('div');
      grid.className = 'min-w-[900px] grid';
      // Ø£ÙˆÙ„ ØµÙ Ù…Ù† Ø§Ù„Ø®Ù„Ø§ÙŠØ§: Ø®Ù„ÙŠØ© ÙØ§Ø±ØºØ© Ø«Ù… Ø£ÙˆÙ‚Ø§Øª
      grid.style.gridTemplateColumns = `160px repeat(${TIME_SLOTS.length}, minmax(140px,1fr))`;

      // Ø±Ø£Ø³ Ø²Ù…Ù†ÙŠ (ÙØ§Ø±Øº ÙÙŠ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠÙ…Ù†)
      const empty = document.createElement('div');
      empty.className = 'sticky-left p-2';
      grid.appendChild(empty);

      TIME_SLOTS.forEach(time => {
        const cell = document.createElement('div');
        cell.className = 'p-2 text-center text-xs font-bold text-slate-600 border-b-2 border-slate-200';
        cell.textContent = time.replace('â€“',' - ');
        grid.appendChild(cell);
      });

      // ØµÙÙˆÙ Ø§Ù„Ø£ÙŠØ§Ù…
      DAYS.forEach(day => {
        // day header
        const header = document.createElement('div');
        const dc = DAY_COLORS[day] || { background: 'bg-white', text: 'text-slate-800' };
        header.className = `p-2 text-center font-bold text-sm sticky-left ${dc.background} ${dc.text}`;
        header.textContent = day;
        grid.appendChild(header);

        // Ø®Ù„Ø§ÙŠØ§ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª
        TIME_SLOTS.forEach(time => {
          const key = `${day}||${time}`;
          const course = scheduleMap.get(key);
          const cell = document.createElement('div');
          cell.className = `p-2 border-b border-r border-slate-200 min-h-[100px] ${dc.background} bg-opacity-30 flex items-stretch`;
          if (course) {
            cell.appendChild(CourseCell(course));
          }
          grid.appendChild(cell);
        });
      });

      wrap.appendChild(grid);
      root.appendChild(wrap);

      // Ø£Ø®ÙÙŠ controls (Ø§Ù„Ø£Ø²Ø±Ø§Ø±) Ø¹Ù†Ø¯ Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„
      document.getElementById('controls').style.display = 'none';
    }

    /**********************
     * ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
     **********************/
    (function init() {
      const ctrl = document.getElementById('controls');
      renderGroupButtons(ctrl);

      // Ø§Ø®ØªÙŠØ§Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠ: Ù„Ø§ Ù†Ø¹Ø±Ø¶ Ø£ÙŠ Ø¬Ø¯ÙˆÙ„ Ø­ØªÙ‰ ÙŠØ¶ØºØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
      // Ù„ÙƒÙ† ÙŠÙ…ÙƒÙ†Ùƒ ØªÙØ¹ÙŠÙ„ Ø¹Ø±Ø¶ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ø­Ø¯Ø¯Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ ÙƒØ§Ù„Ø¢ØªÙŠ:
      // renderSchedule('G1');
    })();
  </script>
</body>
</html>
